<h2 id="mastery-center-section">Admin Law Mastery Center</h2>

<div class="mastery-navigation">
    <a href="#" class="mastery-nav-link active" data-target="mastery-flashcards">Flashcards</a>
    <a href="#" class="mastery-nav-link" data-target="mastery-scenarios">Practice Scenarios</a>
    <a href="#" class="mastery-nav-link" data-target="mastery-comparisons">Concept Comparisons</a>
    <a href="#" class="mastery-nav-link" data-target="mastery-quizzes">Self-Quizzes</a>
    <a href="#" class="mastery-nav-link" data-target="mastery-mascot-resources">Mascot Resources</a>
</div>

<div class="explanation" id="mastery-center-intro">
    <h3>Interactive Learning & Review</h3>
    
    <p>Welcome to the Admin Law Mastery Center, designed to help you solidify your understanding of administrative law concepts through active learning exercises. This section offers various ways to test your knowledge, practice application, and build connections between different aspects of the course material.</p>
    
    <div class="mastery-center">
        <div class="mastery-center-header">
            <h3>Learning Tools</h3>
        </div>
        <div class="mastery-tabs">
            <div class="mastery-tab active" data-tab-target="mastery-flashcards">Flashcards</div>
            <div class="mastery-tab" data-tab-target="mastery-scenarios">Practice Scenarios</div>
            <div class="mastery-tab" data-tab-target="mastery-comparisons">Concept Comparisons</div>
            <div class="mastery-tab" data-tab-target="mastery-quizzes">Self-Quizzes</div>
        </div>
        <div class="mastery-content">
            <!-- Mascot Resources Section -->
            <div class="mastery-section" id="mastery-mascot-resources">
                <h4>Learn with Your Admin Law Guides</h4>
                <p>Explore specialized resources featuring each of your Admin Law Guides to deepen your understanding of key concepts.</p>
                
                <div class="mascot-resources-grid">
                    <div class="mascot-resource-card judicial">
                        <img src="../assets/cutestchevronchameleon.png" alt="Chevron Chameleon">
                        <h4>Chevron Chameleon</h4>
                        <p>The adaptive interpreter of statutes</p>
                        <a href="#visual-learning-section" data-section="visual-learning" class="resource-link">Visit Visual Learning Center</a>
                    </div>
                    
                    <div class="mascot-resource-card constitutional">
                        <img src="../assets/mqm.png" alt="Major Questions Mole">
                        <h4>Major Questions Mole</h4>
                        <p>The boundary detective of agency authority</p>
                        <a href="#visual-knowledge-maps-section" data-section="visual-knowledge-maps" class="resource-link">Explore Visual Knowledge Maps</a>
                    </div>
                    
                    <div class="mascot-resource-card procedural">
                        <img src="../assets/slothsam.png" alt="Standing Sam">
                        <h4>Standing Sam</h4>
                        <p>The guardian of court access</p>
                        <a href="#concept-reinforcement-section" data-section="concept-reinforcement" class="resource-link">Try Concept Reinforcement</a>
                    </div>
                    
                    <div class="mascot-resource-card executive">
                        <img src="../assets/APAarchitect.png" alt="APA Architect">
                        <h4>APA Architect</h4>
                        <p>The builder of proper procedures</p>
                        <a href="#application-practice-section" data-section="application-practice" class="resource-link">Practice Application</a>
                    </div>
                </div>
                
                <style>
                    .mascot-resources-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                        gap: 20px;
                        margin-top: 20px;
                    }
                    
                    .mascot-resource-card {
                        background-color: white;
                        border-radius: 8px;
                        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
                        padding: 20px;
                        text-align: center;
                        transition: transform 0.3s ease, box-shadow 0.3s ease;
                    }
                    
                    .mascot-resource-card:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 5px 15px rgba(0,0,0,0.15);
                    }
                    
                    .mascot-resource-card.judicial {
                        border-top: 4px solid var(--judicial-primary);
                    }
                    
                    .mascot-resource-card.constitutional {
                        border-top: 4px solid var(--constitutional-primary);
                    }
                    
                    .mascot-resource-card.procedural {
                        border-top: 4px solid var(--procedural-primary);
                    }
                    
                    .mascot-resource-card.executive {
                        border-top: 4px solid var(--executive-primary);
                    }
                    
                    .mascot-resource-card img {
                        width: 80px;
                        height: 80px;
                        border-radius: 50%;
                        margin: 0 auto 15px auto;
                        display: block;
                    }
                    
                    .mascot-resource-card h4 {
                        margin: 10px 0;
                        color: #2c3e50;
                    }
                    
                    .mascot-resource-card p {
                        color: #666;
                        font-style: italic;
                        margin-bottom: 15px;
                    }
                    
                    .resource-link {
                        display: inline-block;
                        padding: 8px 16px;
                        background-color: #f0f0f0;
                        border-radius: 4px;
                        text-decoration: none;
                        color: #2c3e50;
                        transition: background-color 0.2s ease;
                    }
                    
                    .resource-link:hover {
                        background-color: #e0e0e0;
                        text-decoration: none;
                    }
                </style>
            </div>
            
            <!-- Flashcards Section - Redesigned with shadcn/ui components -->
            <div class="mastery-section active" id="mastery-flashcards">
                <h4>Spaced Repetition Flashcards</h4>
                <p>Click on a card to flip it and check your understanding. Come back to these cards regularly to solidify your knowledge through spaced repetition.</p>
                
                <!-- Add our shadcn-styled progress tracker -->
                <div class="shadcn-progress" style="margin-bottom: 1rem;">
                    <div class="shadcn-progress-indicator" style="width: 0%" data-total-cards="25"></div>
                </div>
                <p class="shadcn-flashcard-progress-text" style="text-align: center; margin-bottom: 1.5rem; font-size: 0.875rem; color: var(--muted-foreground);">
                    0 of 25 cards mastered (0%)
                </p>
                
                <!-- Tabs for categories (adapted for js/flashcards.js and components/tabs.js) -->
                <div class="category-tabs"> {/* Changed class for consistency */}
                    {/* Buttons now use .category-tab, data-category, and data-tab-target */}
                    <button class="category-tab active" data-category="all" data-tab-target="flashcard-container">All Topics</button>
                    <button class="category-tab" data-category="judicial-review" data-tab-target="flashcard-container">Judicial Review</button>
                    <button class="category-tab" data-category="agency-procedure" data-tab-target="flashcard-container">Agency Procedure</button>
                    <button class="category-tab" data-category="constitutional" data-tab-target="flashcard-container">Constitutional Issues</button>
                </div>
                    
                {/* Content for these tabs is primarily the #flashcard-container below, which is filtered by js/flashcards.js.
                    The shadcn-tabs-content divs might be vestigial or used for specific placeholder text if desired.
                    For now, we'll keep their structure but the primary interaction is with #flashcard-container.
                 */}
                    <!-- All Cards Tab Content (placeholder, actual content in #flashcard-container) -->
                    <div id="all-cards" class="shadcn-tabs-content" style="display: block;"> {/* Ensure the main container area is initially visible if it's a shared target */}
                        <div class="shadcn-flashcard-controls">
                            <div>
                                <button id="shuffle-flashcards" class="shadcn-button shadcn-button-secondary shadcn-button-sm">
                                    Shuffle Cards
                                </button>
                                <button id="show-different-cards" class="shadcn-button shadcn-button-default shadcn-button-sm">
                                    Show Different Cards
                                </button>
                            </div>
                            <span class="shadcn-flashcard-meta">Showing 3 of 25 total flashcards</span>
                        </div>
                        
                        <div id="flashcard-container" class="shadcn-flashcard-container">
                            <!-- Initial static flashcards with shadcn styling -->
                            <div class="shadcn-flashcard" data-category="judicial-review" data-card-id="chevron">
                                <div class="shadcn-flashcard-inner">
                                    <div class="shadcn-flashcard-front">
                                        <span class="shadcn-badge shadcn-badge-secondary shadcn-flashcard-badge">Judicial Review</span>
                                        <h4 class="shadcn-flashcard-title">Chevron Doctrine</h4>
                                        <p class="shadcn-flashcard-content">What was the two-step framework for judicial review of agency statutory interpretations?</p>
                                    </div>
                                    <div class="shadcn-flashcard-back">
                                        <h4 class="shadcn-flashcard-title">Chevron Doctrine</h4>
                                        <div class="shadcn-flashcard-content">
                                            <p><strong>Step 1:</strong> Has Congress directly spoken to the precise question at issue? If yes, that's the end of the matter.</p>
                                            <p><strong>Step 2:</strong> If the statute is silent or ambiguous, is the agency's interpretation reasonable?</p>
                                            <p><em>Note: Loper Bright (2024) overturned this framework.</em></p>
                                        </div>
                                        <button class="shadcn-button shadcn-button-outline shadcn-button-sm mark-known-button" data-card-id="chevron" style="margin-top: 1rem;">Mark as Known</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="shadcn-flashcard" data-category="constitutional" data-card-id="mqd">
                                <div class="shadcn-flashcard-inner">
                                    <div class="shadcn-flashcard-front">
                                        <span class="shadcn-badge shadcn-badge-secondary shadcn-flashcard-badge">Constitutional</span>
                                        <h4 class="shadcn-flashcard-title">Major Questions Doctrine</h4>
                                        <p class="shadcn-flashcard-content">When does the Major Questions Doctrine apply, and what does it require?</p>
                                    </div>
                                    <div class="shadcn-flashcard-back">
                                        <h4 class="shadcn-flashcard-title">Major Questions Doctrine</h4>
                                        <div class="shadcn-flashcard-content">
                                            <p>Applies when an agency claims authority over a question of vast economic and political significance.</p>
                                            <p>Requires: Clear congressional authorization for the agency's action.</p>
                                            <p>Key cases: West Virginia v. EPA, NFIB v. OSHA</p>
                                        </div>
                                        <button class="shadcn-button shadcn-button-outline shadcn-button-sm mark-known-button" data-card-id="mqd" style="margin-top: 1rem;">Mark as Known</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="shadcn-flashcard" data-category="judicial-review" data-card-id="standing">
                                <div class="shadcn-flashcard-inner">
                                    <div class="shadcn-flashcard-front">
                                        <span class="shadcn-badge shadcn-badge-secondary shadcn-flashcard-badge">Judicial Review</span>
                                        <h4 class="shadcn-flashcard-title">Article III Standing</h4>
                                        <p class="shadcn-flashcard-content">What are the three requirements for Article III standing?</p>
                                    </div>
                                    <div class="shadcn-flashcard-back">
                                        <h4 class="shadcn-flashcard-title">Article III Standing</h4>
                                        <div class="shadcn-flashcard-content">
                                            <p><strong>1. Injury in fact:</strong> Concrete, particularized, actual or imminent</p>
                                            <p><strong>2. Causation:</strong> Fairly traceable to the challenged action</p>
                                            <p><strong>3. Redressability:</strong> Likely to be redressed by a favorable decision</p>
                                            <p>Zone of interests is a separate prudential requirement.</p>
                                        </div>
                                        <button class="shadcn-button shadcn-button-outline shadcn-button-sm mark-known-button" data-card-id="standing" style="margin-top: 1rem;">Mark as Known</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Judicial Review Tab Content (placeholder) -->
                    <div id="judicial-review-cards" class="shadcn-tabs-content" style="display: none;">
                        <p>Judicial Review flashcards will appear in the container above when this category is selected.</p>
                    </div>
                    
                    <!-- Agency Procedure Tab Content (placeholder) -->
                    <div id="agency-procedure-cards" class="shadcn-tabs-content" style="display: none;">
                        <p>Agency Procedure flashcards will appear in the container above when this category is selected.</p>
                    </div>
                    
                    <!-- Constitutional Issues Tab Content (placeholder) -->
                    <div id="constitutional-cards" class="shadcn-tabs-content" style="display: none;">
                        <p>Constitutional Issues flashcards will appear in the container above when this category is selected.</p>
                    </div>
                </div>
                
                <!-- Removed inline script defining allFlashcards, as this data is now in js/data/flashcardData.js -->
