/* AdminLawGuide/css/print.css - Styles for printing */

/* Page setup and numbering */
@page {
    size: letter portrait;
    margin: 0.5in;
    counter-increment: page;
}

@page {
    @bottom-right {
        content: "Page " counter(page);
        font-size: 8pt;
    }
}

@media print {
    body {
        font-family: 'Times New Roman', Times, serif; /* Common serif font for print */
        font-size: 10pt; /* Smaller base font size to fit more content */
        line-height: 1.3; /* Tighter line spacing */
        background-color: #ffffff !important; /* Ensure white background */
        color: #000000 !important; /* Ensure black text */
        margin: 0.4in !important; /* Slightly smaller margins */
        max-width: 100% !important; /* Allow content to use full page width */
    }

    /* Table of contents for printed version */
    #content-container::before {
        content: "ADMINISTRATIVE LAW - EXAM REFERENCE";
        display: block;
        font-size: 14pt;
        font-weight: bold;
        margin: 20px 0;
        text-align: center;
        border-bottom: 1px solid #000;
        page-break-after: avoid;
    }

    h1, h2, h3, h4, h5, h6 {
        color: #000000 !important;
        page-break-after: avoid; /* Avoid breaking pages right after a heading */
        font-family: 'Georgia', serif; /* Keep heading font if desired */
        margin: 0.7em 0 0.3em 0 !important; /* Reduced margins */
    }

    h1 {
        font-size: 16pt; /* Slightly smaller */
        border-bottom: 2px solid #000000;
        page-break-before: always; /* Start h1 on a new page */
        margin-top: 0 !important; /* No top margin when at page start */
    }
    h1::after { /* Hide decorative SVG underline for print */
        display: none !important;
    }

    h2 {
        font-size: 14pt; /* Slightly smaller */
        border-bottom: 1px solid #000000;
        background: none !important; /* Remove gradient background */
        page-break-before: always; /* Force page breaks before major sections */
    }

    h3 {
        font-size: 12pt; /* Slightly smaller */
        border-left: 3px solid #000000;
        color: #000000 !important;
        padding-left: 5px;
    }

    h4 {
        font-size: 11pt; /* Slightly smaller */
        font-weight: bold;
    }

    /* Paragraph and list spacing */
    p, li {
        margin: 0.25em 0 !important; /* Smaller margins */
        line-height: 1.3 !important; /* Tighter line height */
    }

    ul, ol {
        padding-left: 1.2em !important; /* Reduce list indentation */
        margin: 0.3em 0 !important; /* Reduced margins */
    }

    /* Add section titles to headers for context */
    .explanation h3::before {
        display: block;
        content: "Admin Law: " attr(id);
        font-size: 8pt;
        font-style: italic;
        color: #666;
        margin-bottom: 2px;
    }

    a {
        color: #000000 !important;
        text-decoration: underline !important; /* Underline links for clarity */
    }

    /* Show href for external links when printing */
    a[href^="http"]::after,
    a[href^="//"]::after {
        content: " (" attr(href) ")";
        font-size: 8pt; /* Smaller */
        font-style: italic;
        color: #555555;
    }
    /* Don't show for internal links/anchors */
    a[href^="#"]::after {
        content: "";
    }

    /* Hide non-essential elements */
    .main-navigation,
    .section-navigation,
    .control-button,
    #refresh-diagrams,
    #export-pdf,
    .print-instructions,
    #print-instructions,
    .back-to-top,
    .universal-disclaimer, /* Assuming disclaimer is not needed for personal outline */
    .mascot-speech .mascot-image, /* Hide mascot images within speech bubbles if they are purely decorative */
    .case-box::before, /* Hide decorative corner fold */
    .flip-hint, 
    .flip-back-container,
    .toggle-answer,
    .mascot-concept-icon,
    .mascot-checkpoint::before
     {
        display: none !important;
    }

    /* Style content boxes for print - with exam focus */
    .key-point,
    .example,
    .warning,
    .note,
    .doctrine-box,
    .test-box,
    .statute-box,
    .judicial-box,
    .case-box,
    .mascot-concept,
    .mascot-checkpoint,
    .character-challenge {
        background-color: #f9f9f9 !important; /* Very light gray background */
        border: 1px solid #cccccc !important; /* Light grey border */
        padding: 7px !important; /* Smaller padding */
        margin: 10px 0 !important; /* Reduced margins */
        box-shadow: none !important;
        page-break-inside: avoid; /* Try to keep boxes on one page */
    }
    
    /* Add exam callouts to key elements */
    .key-point { 
        border-left: 4px solid #000000 !important; 
    }
    .key-point::before {
        content: "‚≠ê EXAM TIP";
        display: block;
        font-weight: bold;
        font-size: 9pt;
        margin-bottom: 3px;
    }
    
    .doctrine-box { 
        border-left: 4px solid #000000 !important; 
    }
    .doctrine-box::before {
        content: "üìò KEY DOCTRINE";
        display: block;
        font-weight: bold;
        font-size: 9pt;
        margin-bottom: 3px;
    }
    
    .test-box { 
        border-left: 4px solid #000000 !important; 
    }
    .test-box::before {
        content: "‚öñÔ∏è LEGAL TEST";
        display: block;
        font-weight: bold;
        font-size: 9pt;
        margin-bottom: 3px;
    }
    
    .example { border-left: 3px solid #666666 !important; }
    .warning { border-left: 3px solid #666666 !important; }


    /* Case illustrations - optimized for print and space */
    .case-illustration,
    .case-illustration-flex {
        page-break-inside: avoid; /* Try to keep illustrations on one page */
        margin: 8px 0 !important; /* Further reduced margin */
        padding: 0;
        background-color: #ffffff !important;
        border: 1px solid #cccccc !important;
        box-shadow: none !important;
    }
    .case-illustration-flex .case-image img,
    .case-illustration img {
        max-width: 80px !important; /* Further reduced width */
        max-height: 80px !important; /* Further reduced height */
        width: auto !important; /* Maintain aspect ratio */
        border: 1px solid #dddddd;
        margin: 5px auto; /* Reduced margin */
        display: block;
        opacity: 0.85; /* Slightly lighter to save ink */
    }
    .case-illustration-flex {
        display: flex !important; /* Keep side-by-side for space efficiency */
        align-items: center !important;
    }
    .case-illustration-flex .case-image {
        flex: 0 0 90px !important; /* Fixed width for image column */
        padding: 5px !important;
    }
    .case-illustration-flex .case-content {
        flex: 1 !important; /* Take remaining space */
        padding: 5px !important;
    }
    
    /* Highlight case names for easy reference */
    .case-name, 
    .case-title,
    .case-box h4 {
        font-weight: bold !important;
        text-decoration: underline !important;
    }


    /* Improved Mermaid diagrams for print */
    .mermaid {
        page-break-inside: avoid;
        page-break-before: avoid;
        page-break-after: avoid;
        text-align: center !important; 
        overflow: visible !important; /* Show full diagram */
        background-color: #ffffff !important;
        border: 1px solid #999999 !important;
        padding: 8px !important;
        margin: 10px auto !important;
        max-width: 6.5in !important; /* Keep within page margins */
    }
    .mermaid svg {
        max-width: 100% !important; /* Ensure SVG scales down */
        height: auto !important;
        stroke-width: 1.5px !important; /* Slightly thicker lines */
    }
    .mermaid text {
        font-weight: bold !important;
        font-size: 9pt !important; /* Ensure readable text size */
    }


    /* Enhanced tables */
    table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin: 8px 0 !important;
        page-break-inside: avoid;
        font-size: 9pt !important; /* Smaller font for tables */
    }
    
    table, th, td {
        border: 1px solid #666666 !important; /* Darker borders for tables */
    }
    
    th {
        background-color: #eeeeee !important;
        padding: 3px 5px !important; /* Reduced padding */
    }
    
    td {
        padding: 3px 5px !important; /* Reduced padding */
    }

    /* Optimized flashcard display for exam reference */
    .flashcard {
        page-break-inside: avoid;
        margin-bottom: 8px !important;
    }
    
    .flashcard .flashcard-inner .flashcard-front,
    .flashcard .flashcard-inner .flashcard-back {
        display: block !important;
        position: static !important;
        transform: none !important;
        background-color: #ffffff !important;
        border: 1px solid #000000 !important;
        padding: 5px !important;
        margin-bottom: 8px !important;
        page-break-inside: avoid;
    }
    
    .flashcard .flashcard-inner .flashcard-front::before {
        content: "Question:";
        font-weight: bold;
        display: block;
        margin-bottom: 3px;
        font-size: 9pt;
    }
    
    .flashcard .flashcard-inner .flashcard-back::before {
        content: "Answer:";
        font-weight: bold;
        display: block;
        margin-bottom: 3px;
        font-size: 9pt;
    }

    /* Make all scenario answers visible */
    .scenario-answer {
        display: block !important;
        border: 1px solid #000000 !important;
        padding: 5px !important;
        margin-top: 5px !important;
        background-color: #f9f9f9 !important;
    }
    
    .scenario-answer::before {
        content: "Answer:";
        font-weight: bold;
        display: block;
        margin-bottom: 3px;
        font-size: 9pt;
    }

    /* Two-column layouts for space efficiency */
    .navigation-cards, .mascot-resources-grid {
        column-count: 2 !important;
        column-gap: 15px !important;
        display: block !important;
    }
    
    .nav-card, .mascot-resource-card {
        break-inside: avoid;
        border: 1px solid #ccc !important;
        margin-bottom: 8px !important;
        padding: 5px !important;
    }
    
    /* Further reduce mascot images */
    .mascot-container .mascot-image {
        max-width: 40px !important; /* Further reduced mascot images */
        max-height: 40px !important;
        width: auto !important; /* Maintain aspect ratio */
    }
    
    .guide-panel-image img {
        max-width: 30px !important; /* Further reduced panel images */
        max-height: 30px !important;
        width: auto !important; /* Maintain aspect ratio */
    }
    
    /* All images optimization */
    img {
        max-height: 80px !important;
        max-width: 80px !important;
        height: auto !important;
        width: auto !important;
    }
}
